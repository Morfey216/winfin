{"version":3,"file":"main.js","sources":["../../source/js/general/polyfills.js","../../source/js/general/intersection-observer.js","../../source/blocks/form-input/form-input.js","../../source/blocks/form-textarea/form-textarea.js","../../source/blocks/modal/modal.js","../../source/js/libs/bodyScrollLock.es6","../../source/blocks/gager-modal/gager-modal.js","../../source/blocks/call-request-modal/call-request-modal.js","../../source/blocks/discount-modal/discount-modal.js","../../source/blocks/header/header.js","../../source/blocks/main-slider/main-slider.js","../../source/blocks/page-pagination/page-pagination.js","../../source/blocks/profile-systems/profile-systems.js","../../source/blocks/window-selection-request-form/window-selection-request-form.js","../../source/blocks/gauge-request-form/gauge-request-form.js","../../source/blocks/reviews-section/reviews-section.js","../../source/blocks/work-report/work-report.js","../../source/blocks/brands/brands.js","../../source/blocks/examples/examples.js","../../source/blocks/popular-windows/popular-windows.js","../../source/blocks/popular-doors/popular-doors.js","../../source/blocks/promotions-section/promotions-section.js","../../source/blocks/map/map.js","../../source/blocks/certificates/certificates.js","../../source/blocks/calculator-form/calculator-form.js","../../source/blocks/order-measurer-form/order-measurer-form.js","../../source/blocks/multi-examples/multi-examples.js","../../source/blocks/feedback-form/feedback-form.js","../../source/blocks/accessories/accessories.js","../../source/blocks/product-description/product-description.js","../../source/js/main.js"],"sourcesContent":["// region NodeList.forEach\nif (window.NodeList && !NodeList.prototype.forEach) {\n  NodeList.prototype.forEach = Array.prototype.forEach;\n}\n// endregion\n\n// region Element.matches\nif (!Element.prototype.matches) {\n  Element.prototype.matches = Element.prototype.msMatchesSelector\n    || Element.prototype.webkitMatchesSelector;\n}\n// endregion\n\n// region Element.closest\nif (!Element.prototype.closest) {\n  Element.prototype.closest = function (s) {\n    let el = this;\n\n    do {\n      if (el.matches(s)) {\n        return el;\n      }\n\n      el = el.parentElement || el.parentNode;\n    } while (el !== null && el.nodeType === 1);\n    return null;\n  };\n}\n// endregion\n\n// region Array.from\nif (!Array.from) {\n  Array.from = (function () {\n    const toStr = Object.prototype.toString;\n    const isCallable = function (fn) {\n      return typeof fn === 'function' || toStr.call(fn) === '[object Function]';\n    };\n    const toInteger = function (value) {\n      const number = Number(value);\n      if (isNaN(number)) {\n        return 0;\n      }\n      if (number === 0 || !isFinite(number)) {\n        return number;\n      }\n      return (number > 0 ? 1 : -1) * Math.floor(Math.abs(number));\n    };\n    const maxSafeInteger = Math.pow(2, 53) - 1;\n    const toLength = function (value) {\n      const len = toInteger(value);\n      return Math.min(Math.max(len, 0), maxSafeInteger);\n    };\n\n    // The length property of the from method is 1.\n    return function from(arrayLike/* , mapFn, thisArg */) {\n      // 1. Let C be the this value.\n      const C = this;\n\n      // 2. Let items be ToObject(arrayLike).\n      const items = Object(arrayLike);\n\n      // 3. ReturnIfAbrupt(items).\n      if (arrayLike == null) {\n        throw new TypeError('Array.from requires an array-like object - not null or undefined');\n      }\n\n      // 4. If mapfn is undefined, then let mapping be false.\n      const mapFn = arguments.length > 1 ? arguments[1] : void undefined;\n      let T;\n      if (typeof mapFn !== 'undefined') {\n        // 5. else\n        // 5. a If IsCallable(mapfn) is false, throw a TypeError exception.\n        if (!isCallable(mapFn)) {\n          throw new TypeError('Array.from: when provided, the second argument must be a function');\n        }\n\n        // 5. b. If thisArg was supplied, let T be thisArg; else let T be undefined.\n        if (arguments.length > 2) {\n          T = arguments[2];\n        }\n      }\n\n      // 10. Let lenValue be Get(items, \"length\").\n      // 11. Let len be ToLength(lenValue).\n      const len = toLength(items.length);\n\n      // 13. If IsConstructor(C) is true, then\n      // 13. a. Let A be the result of calling the [[Construct]] internal method\n      // of C with an argument list containing the single item len.\n      // 14. a. Else, Let A be ArrayCreate(len).\n      const A = isCallable(C) ? Object(new C(len)) : new Array(len);\n\n      // 16. Let k be 0.\n      let k = 0;\n      // 17. Repeat, while k < len… (also steps a - h)\n      let kValue;\n      while (k < len) {\n        kValue = items[k];\n        if (mapFn) {\n          A[k] = typeof T === 'undefined' ? mapFn(kValue, k) : mapFn.call(T, kValue, k);\n        } else {\n          A[k] = kValue;\n        }\n        k += 1;\n      }\n      // 18. Let putStatus be Put(A, \"length\", len, true).\n      A.length = len;\n      // 20. Return A.\n      return A;\n    };\n  }());\n}\n// endregion\n\n\n// region Placeholder support with .placeholder-shown\nfunction placeholderPolyfill() {\n  this.classList[this.value ? 'remove' : 'add']('placeholder-shown');\n}\n\ndocument.querySelectorAll('[placeholder]').forEach((el) => {\n  el.classList[el.value ? 'remove' : 'add']('placeholder-shown');\n  el.addEventListener('change', placeholderPolyfill);\n  el.addEventListener('keyup', placeholderPolyfill);\n});\n// endregion\n\n// region Array.prototype.includes\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/includes#Polyfill\nif (!Array.prototype.includes) {\n  Object.defineProperty(Array.prototype, 'includes', {\n    value(valueToFind, fromIndex) {\n      if (this == null) {\n        throw new TypeError('\"this\" is null or not defined');\n      }\n\n      let o = Object(this);\n      let len = o.length >>> 0;\n\n      if (len === 0) {\n        return false;\n      }\n\n      let n = fromIndex | 0;\n      let k = Math.max(n >= 0 ? n : len - Math.abs(n), 0);\n\n      function sameValueZero(x, y) {\n        return x === y || (typeof x === 'number' && typeof y === 'number' && isNaN(x) && isNaN(y));\n      }\n\n      while (k < len) {\n        if (sameValueZero(o[k], valueToFind)) {\n          return true;\n        }\n        k++;\n      }\n      return false;\n    },\n  });\n}\n// endregion\n\n// region window.Event\n(function () {\n  if (typeof window.CustomEvent === 'function') return false;\n\n  function CustomEvent(event, params) {\n    params = params || { bubbles: false, cancelable: false, detail: null };\n    const evt = document.createEvent('CustomEvent');\n    evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n    return evt;\n  }\n\n  CustomEvent.prototype = window.Event.prototype;\n  window.CustomEvent = CustomEvent;\n}());\n// endregion\n\n// region Array.prototype.find\nif (!Array.prototype.find) {\n  Object.defineProperty(Array.prototype, 'find', {\n    value(predicate) {\n      if (this == null) {\n        throw new TypeError('\"this\" is null or not defined');\n      }\n      let o = Object(this);\n      let len = o.length >>> 0;\n      if (typeof predicate !== 'function') {\n        throw new TypeError('predicate must be a function');\n      }\n      let thisArg = arguments[1];\n      let k = 0;\n      while (k < len) {\n        let kValue = o[k];\n        if (predicate.call(thisArg, kValue, k, o)) {\n          return kValue;\n        }\n        k++;\n      }\n      return undefined;\n    },\n    configurable: true,\n    writable: true,\n  });\n}\n// endregion\n","/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the W3C SOFTWARE AND DOCUMENT NOTICE AND LICENSE.\n *\n *  https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document\n *\n */\n(function () {\n  // Exit early if we're not running in a browser.\n  if (typeof window !== 'object') {\n    return;\n  }\n\n  // Exit early if all IntersectionObserver and IntersectionObserverEntry\n  // features are natively supported.\n  if ('IntersectionObserver' in window\n    && 'IntersectionObserverEntry' in window\n    && 'intersectionRatio' in window.IntersectionObserverEntry.prototype) {\n    // Minimal polyfill for Edge 15's lack of `isIntersecting`\n    // See: https://github.com/w3c/IntersectionObserver/issues/211\n    if (!('isIntersecting' in window.IntersectionObserverEntry.prototype)) {\n      Object.defineProperty(window.IntersectionObserverEntry.prototype,\n        'isIntersecting', {\n          get() {\n            return this.intersectionRatio > 0;\n          },\n        });\n    }\n    return;\n  }\n\n\n  /**\n   * A local reference to the document.\n   */\n  const { document } = window;\n\n\n  /**\n   * An IntersectionObserver registry. This registry exists to hold a strong\n   * reference to IntersectionObserver instances currently observing a target\n   * element. Without this registry, instances without another reference may be\n   * garbage collected.\n   */\n  const registry = [];\n\n\n  /**\n   * Creates the global IntersectionObserverEntry constructor.\n   * https://w3c.github.io/IntersectionObserver/#intersection-observer-entry\n   * @param {Object} entry A dictionary of instance properties.\n   * @constructor\n   */\n  function IntersectionObserverEntry(entry) {\n    this.time = entry.time;\n    this.target = entry.target;\n    this.rootBounds = entry.rootBounds;\n    this.boundingClientRect = entry.boundingClientRect;\n    this.intersectionRect = entry.intersectionRect || getEmptyRect();\n    this.isIntersecting = !!entry.intersectionRect;\n\n    // Calculates the intersection ratio.\n    const targetRect = this.boundingClientRect;\n    const targetArea = targetRect.width * targetRect.height;\n    const { intersectionRect } = this;\n    const intersectionArea = intersectionRect.width * intersectionRect.height;\n\n    // Sets intersection ratio.\n    if (targetArea) {\n      // Round the intersection ratio to avoid floating point math issues:\n      // https://github.com/w3c/IntersectionObserver/issues/324\n      this.intersectionRatio = Number((intersectionArea / targetArea).toFixed(4));\n    } else {\n      // If area is zero and is intersecting, sets to 1, otherwise to 0\n      this.intersectionRatio = this.isIntersecting ? 1 : 0;\n    }\n  }\n\n\n  /**\n   * Creates the global IntersectionObserver constructor.\n   * https://w3c.github.io/IntersectionObserver/#intersection-observer-interface\n   * @param {Function} callback The function to be invoked after intersection\n   *     changes have queued. The function is not invoked if the queue has\n   *     been emptied by calling the `takeRecords` method.\n   * @param {Object=} opt_options Optional configuration options.\n   * @constructor\n   */\n  function IntersectionObserver(callback, opt_options) {\n    const options = opt_options || {};\n\n    if (typeof callback !== 'function') {\n      throw new Error('callback must be a function');\n    }\n\n    if (options.root && options.root.nodeType != 1) {\n      throw new Error('root must be an Element');\n    }\n\n    // Binds and throttles `this._checkForIntersections`.\n    this._checkForIntersections = throttle(\n      this._checkForIntersections.bind(this), this.THROTTLE_TIMEOUT,\n    );\n\n    // Private properties.\n    this._callback = callback;\n    this._observationTargets = [];\n    this._queuedEntries = [];\n    this._rootMarginValues = this._parseRootMargin(options.rootMargin);\n\n    // Public properties.\n    this.thresholds = this._initThresholds(options.threshold);\n    this.root = options.root || null;\n    this.rootMargin = this._rootMarginValues.map(margin => margin.value + margin.unit).join(' ');\n  }\n\n\n  /**\n   * The minimum interval within which the document will be checked for\n   * intersection changes.\n   */\n  IntersectionObserver.prototype.THROTTLE_TIMEOUT = 100;\n\n\n  /**\n   * The frequency in which the polyfill polls for intersection changes.\n   * this can be updated on a per instance basis and must be set prior to\n   * calling `observe` on the first target.\n   */\n  IntersectionObserver.prototype.POLL_INTERVAL = null;\n\n  /**\n   * Use a mutation observer on the root element\n   * to detect intersection changes.\n   */\n  IntersectionObserver.prototype.USE_MUTATION_OBSERVER = true;\n\n\n  /**\n   * Starts observing a target element for intersection changes based on\n   * the thresholds values.\n   * @param {Element} target The DOM element to observe.\n   */\n  IntersectionObserver.prototype.observe = function (target) {\n    const isTargetAlreadyObserved = this._observationTargets.some(item => item.element == target);\n\n    if (isTargetAlreadyObserved) {\n      return;\n    }\n\n    if (!(target && target.nodeType == 1)) {\n      throw new Error('target must be an Element');\n    }\n\n    this._registerInstance();\n    this._observationTargets.push({ element: target, entry: null });\n    this._monitorIntersections();\n    this._checkForIntersections();\n  };\n\n\n  /**\n   * Stops observing a target element for intersection changes.\n   * @param {Element} target The DOM element to observe.\n   */\n  IntersectionObserver.prototype.unobserve = function (target) {\n    this._observationTargets = this._observationTargets.filter(item => item.element != target);\n    if (!this._observationTargets.length) {\n      this._unmonitorIntersections();\n      this._unregisterInstance();\n    }\n  };\n\n\n  /**\n   * Stops observing all target elements for intersection changes.\n   */\n  IntersectionObserver.prototype.disconnect = function () {\n    this._observationTargets = [];\n    this._unmonitorIntersections();\n    this._unregisterInstance();\n  };\n\n\n  /**\n   * Returns any queue entries that have not yet been reported to the\n   * callback and clears the queue. This can be used in conjunction with the\n   * callback to obtain the absolute most up-to-date intersection information.\n   * @return {Array} The currently queued entries.\n   */\n  IntersectionObserver.prototype.takeRecords = function () {\n    const records = this._queuedEntries.slice();\n    this._queuedEntries = [];\n    return records;\n  };\n\n\n  /**\n   * Accepts the threshold value from the user configuration object and\n   * returns a sorted array of unique threshold values. If a value is not\n   * between 0 and 1 and error is thrown.\n   * @private\n   * @param {Array|number=} opt_threshold An optional threshold value or\n   *     a list of threshold values, defaulting to [0].\n   * @return {Array} A sorted list of unique and valid threshold values.\n   */\n  IntersectionObserver.prototype._initThresholds = function (opt_threshold) {\n    let threshold = opt_threshold || [0];\n    if (!Array.isArray(threshold)) threshold = [threshold];\n\n    return threshold.sort().filter((t, i, a) => {\n      if (typeof t !== 'number' || isNaN(t) || t < 0 || t > 1) {\n        throw new Error('threshold must be a number between 0 and 1 inclusively');\n      }\n      return t !== a[i - 1];\n    });\n  };\n\n\n  /**\n   * Accepts the rootMargin value from the user configuration object\n   * and returns an array of the four margin values as an object containing\n   * the value and unit properties. If any of the values are not properly\n   * formatted or use a unit other than px or %, and error is thrown.\n   * @private\n   * @param {string=} opt_rootMargin An optional rootMargin value,\n   *     defaulting to '0px'.\n   * @return {Array<Object>} An array of margin objects with the keys\n   *     value and unit.\n   */\n  IntersectionObserver.prototype._parseRootMargin = function (opt_rootMargin) {\n    const marginString = opt_rootMargin || '0px';\n    const margins = marginString.split(/\\s+/).map((margin) => {\n      const parts = /^(-?\\d*\\.?\\d+)(px|%)$/.exec(margin);\n      if (!parts) {\n        throw new Error('rootMargin must be specified in pixels or percent');\n      }\n      return { value: parseFloat(parts[1]), unit: parts[2] };\n    });\n\n    // Handles shorthand.\n    margins[1] = margins[1] || margins[0];\n    margins[2] = margins[2] || margins[0];\n    margins[3] = margins[3] || margins[1];\n\n    return margins;\n  };\n\n\n  /**\n   * Starts polling for intersection changes if the polling is not already\n   * happening, and if the page's visibility state is visible.\n   * @private\n   */\n  IntersectionObserver.prototype._monitorIntersections = function () {\n    if (!this._monitoringIntersections) {\n      this._monitoringIntersections = true;\n\n      // If a poll interval is set, use polling instead of listening to\n      // resize and scroll events or DOM mutations.\n      if (this.POLL_INTERVAL) {\n        this._monitoringInterval = setInterval(\n          this._checkForIntersections, this.POLL_INTERVAL,\n        );\n      } else {\n        addEvent(window, 'resize', this._checkForIntersections, true);\n        addEvent(document, 'scroll', this._checkForIntersections, true);\n\n        if (this.USE_MUTATION_OBSERVER && 'MutationObserver' in window) {\n          this._domObserver = new MutationObserver(this._checkForIntersections);\n          this._domObserver.observe(document, {\n            attributes: true,\n            childList: true,\n            characterData: true,\n            subtree: true,\n          });\n        }\n      }\n    }\n  };\n\n\n  /**\n   * Stops polling for intersection changes.\n   * @private\n   */\n  IntersectionObserver.prototype._unmonitorIntersections = function () {\n    if (this._monitoringIntersections) {\n      this._monitoringIntersections = false;\n\n      clearInterval(this._monitoringInterval);\n      this._monitoringInterval = null;\n\n      removeEvent(window, 'resize', this._checkForIntersections, true);\n      removeEvent(document, 'scroll', this._checkForIntersections, true);\n\n      if (this._domObserver) {\n        this._domObserver.disconnect();\n        this._domObserver = null;\n      }\n    }\n  };\n\n\n  /**\n   * Scans each observation target for intersection changes and adds them\n   * to the internal entries queue. If new entries are found, it\n   * schedules the callback to be invoked.\n   * @private\n   */\n  IntersectionObserver.prototype._checkForIntersections = function () {\n    const rootIsInDom = this._rootIsInDom();\n    const rootRect = rootIsInDom ? this._getRootRect() : getEmptyRect();\n\n    this._observationTargets.forEach(function (item) {\n      const target = item.element;\n      const targetRect = getBoundingClientRect(target);\n      const rootContainsTarget = this._rootContainsTarget(target);\n      const oldEntry = item.entry;\n      const intersectionRect = rootIsInDom && rootContainsTarget\n        && this._computeTargetAndRootIntersection(target, rootRect);\n\n      const newEntry = item.entry = new IntersectionObserverEntry({\n        time: now(),\n        target,\n        boundingClientRect: targetRect,\n        rootBounds: rootRect,\n        intersectionRect,\n      });\n\n      if (!oldEntry) {\n        this._queuedEntries.push(newEntry);\n      } else if (rootIsInDom && rootContainsTarget) {\n        // If the new entry intersection ratio has crossed any of the\n        // thresholds, add a new entry.\n        if (this._hasCrossedThreshold(oldEntry, newEntry)) {\n          this._queuedEntries.push(newEntry);\n        }\n      } else {\n        // If the root is not in the DOM or target is not contained within\n        // root but the previous entry for this target had an intersection,\n        // add a new record indicating removal.\n        if (oldEntry && oldEntry.isIntersecting) {\n          this._queuedEntries.push(newEntry);\n        }\n      }\n    }, this);\n\n    if (this._queuedEntries.length) {\n      this._callback(this.takeRecords(), this);\n    }\n  };\n\n\n  /**\n   * Accepts a target and root rect computes the intersection between then\n   * following the algorithm in the spec.\n   * TODO(philipwalton): at this time clip-path is not considered.\n   * https://w3c.github.io/IntersectionObserver/#calculate-intersection-rect-algo\n   * @param {Element} target The target DOM element\n   * @param {Object} rootRect The bounding rect of the root after being\n   *     expanded by the rootMargin value.\n   * @return {?Object} The final intersection rect object or undefined if no\n   *     intersection is found.\n   * @private\n   */\n  IntersectionObserver.prototype._computeTargetAndRootIntersection = function (target, rootRect) {\n    // If the element isn't displayed, an intersection can't happen.\n    if (window.getComputedStyle(target).display == 'none') return;\n\n    const targetRect = getBoundingClientRect(target);\n    let intersectionRect = targetRect;\n    let parent = getParentNode(target);\n    let atRoot = false;\n\n    while (!atRoot) {\n      let parentRect = null;\n      const parentComputedStyle = parent.nodeType == 1\n        ? window.getComputedStyle(parent) : {};\n\n      // If the parent isn't displayed, an intersection can't happen.\n      if (parentComputedStyle.display == 'none') return;\n\n      if (parent == this.root || parent == document) {\n        atRoot = true;\n        parentRect = rootRect;\n      } else {\n        // If the element has a non-visible overflow, and it's not the <body>\n        // or <html> element, update the intersection rect.\n        // Note: <body> and <html> cannot be clipped to a rect that's not also\n        // the document rect, so no need to compute a new intersection.\n        if (parent != document.body\n            && parent != document.documentElement\n            && parentComputedStyle.overflow != 'visible') {\n          parentRect = getBoundingClientRect(parent);\n        }\n      }\n\n      // If either of the above conditionals set a new parentRect,\n      // calculate new intersection data.\n      if (parentRect) {\n        intersectionRect = computeRectIntersection(parentRect, intersectionRect);\n\n        if (!intersectionRect) break;\n      }\n      parent = getParentNode(parent);\n    }\n    return intersectionRect;\n  };\n\n\n  /**\n   * Returns the root rect after being expanded by the rootMargin value.\n   * @return {Object} The expanded root rect.\n   * @private\n   */\n  IntersectionObserver.prototype._getRootRect = function () {\n    let rootRect;\n    if (this.root) {\n      rootRect = getBoundingClientRect(this.root);\n    } else {\n      // Use <html>/<body> instead of window since scroll bars affect size.\n      const html = document.documentElement;\n      const { body } = document;\n      rootRect = {\n        top: 0,\n        left: 0,\n        right: html.clientWidth || body.clientWidth,\n        width: html.clientWidth || body.clientWidth,\n        bottom: html.clientHeight || body.clientHeight,\n        height: html.clientHeight || body.clientHeight,\n      };\n    }\n    return this._expandRectByRootMargin(rootRect);\n  };\n\n\n  /**\n   * Accepts a rect and expands it by the rootMargin value.\n   * @param {Object} rect The rect object to expand.\n   * @return {Object} The expanded rect.\n   * @private\n   */\n  IntersectionObserver.prototype._expandRectByRootMargin = function (rect) {\n    const margins = this._rootMarginValues.map((margin, i) => (margin.unit == 'px' ? margin.value\n      : margin.value * (i % 2 ? rect.width : rect.height) / 100));\n    const newRect = {\n      top: rect.top - margins[0],\n      right: rect.right + margins[1],\n      bottom: rect.bottom + margins[2],\n      left: rect.left - margins[3],\n    };\n    newRect.width = newRect.right - newRect.left;\n    newRect.height = newRect.bottom - newRect.top;\n\n    return newRect;\n  };\n\n\n  /**\n   * Accepts an old and new entry and returns true if at least one of the\n   * threshold values has been crossed.\n   * @param {?IntersectionObserverEntry} oldEntry The previous entry for a\n   *    particular target element or null if no previous entry exists.\n   * @param {IntersectionObserverEntry} newEntry The current entry for a\n   *    particular target element.\n   * @return {boolean} Returns true if a any threshold has been crossed.\n   * @private\n   */\n  IntersectionObserver.prototype._hasCrossedThreshold = function (oldEntry, newEntry) {\n    // To make comparing easier, an entry that has a ratio of 0\n    // but does not actually intersect is given a value of -1\n    const oldRatio = oldEntry && oldEntry.isIntersecting\n      ? oldEntry.intersectionRatio || 0 : -1;\n    const newRatio = newEntry.isIntersecting\n      ? newEntry.intersectionRatio || 0 : -1;\n\n    // Ignore unchanged ratios\n    if (oldRatio === newRatio) return;\n\n    for (let i = 0; i < this.thresholds.length; i++) {\n      const threshold = this.thresholds[i];\n\n      // Return true if an entry matches a threshold or if the new ratio\n      // and the old ratio are on the opposite sides of a threshold.\n      if (threshold == oldRatio || threshold == newRatio\n          || threshold < oldRatio !== threshold < newRatio) {\n        return true;\n      }\n    }\n  };\n\n\n  /**\n   * Returns whether or not the root element is an element and is in the DOM.\n   * @return {boolean} True if the root element is an element and is in the DOM.\n   * @private\n   */\n  IntersectionObserver.prototype._rootIsInDom = function () {\n    return !this.root || containsDeep(document, this.root);\n  };\n\n\n  /**\n   * Returns whether or not the target element is a child of root.\n   * @param {Element} target The target element to check.\n   * @return {boolean} True if the target element is a child of root.\n   * @private\n   */\n  IntersectionObserver.prototype._rootContainsTarget = function (target) {\n    return containsDeep(this.root || document, target);\n  };\n\n\n  /**\n   * Adds the instance to the global IntersectionObserver registry if it isn't\n   * already present.\n   * @private\n   */\n  IntersectionObserver.prototype._registerInstance = function () {\n    if (registry.indexOf(this) < 0) {\n      registry.push(this);\n    }\n  };\n\n\n  /**\n   * Removes the instance from the global IntersectionObserver registry.\n   * @private\n   */\n  IntersectionObserver.prototype._unregisterInstance = function () {\n    const index = registry.indexOf(this);\n    if (index != -1) registry.splice(index, 1);\n  };\n\n\n  /**\n   * Returns the result of the performance.now() method or null in browsers\n   * that don't support the API.\n   * @return {number} The elapsed time since the page was requested.\n   */\n  function now() {\n    return window.performance && performance.now && performance.now();\n  }\n\n\n  /**\n   * Throttles a function and delays its execution, so it's only called at most\n   * once within a given time period.\n   * @param {Function} fn The function to throttle.\n   * @param {number} timeout The amount of time that must pass before the\n   *     function can be called again.\n   * @return {Function} The throttled function.\n   */\n  function throttle(fn, timeout) {\n    let timer = null;\n    return function () {\n      if (!timer) {\n        timer = setTimeout(() => {\n          fn();\n          timer = null;\n        }, timeout);\n      }\n    };\n  }\n\n\n  /**\n   * Adds an event handler to a DOM node ensuring cross-browser compatibility.\n   * @param {Node} node The DOM node to add the event handler to.\n   * @param {string} event The event name.\n   * @param {Function} fn The event handler to add.\n   * @param {boolean} opt_useCapture Optionally adds the even to the capture\n   *     phase. Note: this only works in modern browsers.\n   */\n  function addEvent(node, event, fn, opt_useCapture) {\n    if (typeof node.addEventListener === 'function') {\n      node.addEventListener(event, fn, opt_useCapture || false);\n    } else if (typeof node.attachEvent === 'function') {\n      node.attachEvent(`on${event}`, fn);\n    }\n  }\n\n\n  /**\n   * Removes a previously added event handler from a DOM node.\n   * @param {Node} node The DOM node to remove the event handler from.\n   * @param {string} event The event name.\n   * @param {Function} fn The event handler to remove.\n   * @param {boolean} opt_useCapture If the event handler was added with this\n   *     flag set to true, it should be set to true here in order to remove it.\n   */\n  function removeEvent(node, event, fn, opt_useCapture) {\n    if (typeof node.removeEventListener === 'function') {\n      node.removeEventListener(event, fn, opt_useCapture || false);\n    } else if (typeof node.detatchEvent === 'function') {\n      node.detatchEvent(`on${event}`, fn);\n    }\n  }\n\n\n  /**\n   * Returns the intersection between two rect objects.\n   * @param {Object} rect1 The first rect.\n   * @param {Object} rect2 The second rect.\n   * @return {?Object} The intersection rect or undefined if no intersection\n   *     is found.\n   */\n  function computeRectIntersection(rect1, rect2) {\n    const top = Math.max(rect1.top, rect2.top);\n    const bottom = Math.min(rect1.bottom, rect2.bottom);\n    const left = Math.max(rect1.left, rect2.left);\n    const right = Math.min(rect1.right, rect2.right);\n    const width = right - left;\n    const height = bottom - top;\n\n    return (width >= 0 && height >= 0) && {\n      top,\n      bottom,\n      left,\n      right,\n      width,\n      height,\n    };\n  }\n\n\n  /**\n   * Shims the native getBoundingClientRect for compatibility with older IE.\n   * @param {Element} el The element whose bounding rect to get.\n   * @return {Object} The (possibly shimmed) rect of the element.\n   */\n  function getBoundingClientRect(el) {\n    let rect;\n\n    try {\n      rect = el.getBoundingClientRect();\n    } catch (err) {\n      // Ignore Windows 7 IE11 \"Unspecified error\"\n      // https://github.com/w3c/IntersectionObserver/pull/205\n    }\n\n    if (!rect) return getEmptyRect();\n\n    // Older IE\n    if (!(rect.width && rect.height)) {\n      rect = {\n        top: rect.top,\n        right: rect.right,\n        bottom: rect.bottom,\n        left: rect.left,\n        width: rect.right - rect.left,\n        height: rect.bottom - rect.top,\n      };\n    }\n    return rect;\n  }\n\n\n  /**\n   * Returns an empty rect object. An empty rect is returned when an element\n   * is not in the DOM.\n   * @return {Object} The empty rect.\n   */\n  function getEmptyRect() {\n    return {\n      top: 0,\n      bottom: 0,\n      left: 0,\n      right: 0,\n      width: 0,\n      height: 0,\n    };\n  }\n\n  /**\n   * Checks to see if a parent element contains a child element (including inside\n   * shadow DOM).\n   * @param {Node} parent The parent element.\n   * @param {Node} child The child element.\n   * @return {boolean} True if the parent node contains the child node.\n   */\n  function containsDeep(parent, child) {\n    let node = child;\n    while (node) {\n      if (node == parent) return true;\n\n      node = getParentNode(node);\n    }\n    return false;\n  }\n\n\n  /**\n   * Gets the parent node of an element or its host element if the parent node\n   * is a shadow root.\n   * @param {Node} node The node whose parent to get.\n   * @return {Node|null} The parent node or null if no parent exists.\n   */\n  function getParentNode(node) {\n    const parent = node.parentNode;\n\n    if (parent && parent.nodeType == 11 && parent.host) {\n      // If the parent is a shadow root, return the host element.\n      return parent.host;\n    }\n\n    if (parent && parent.assignedSlot) {\n      // If the parent is distributed in a <slot>, return the parent of a slot.\n      return parent.assignedSlot.parentNode;\n    }\n\n    return parent;\n  }\n\n\n  // Exposes the constructors globally.\n  window.IntersectionObserver = IntersectionObserver;\n  window.IntersectionObserverEntry = IntersectionObserverEntry;\n}());\n","export default () => {\n  const inputs = document.querySelectorAll('.js-form-input');\n\n  if (inputs.length === 0) return;\n\n  inputs.forEach((input) => {\n    input.addEventListener('focus', () => {\n      input.closest('.form-input').classList.remove('error');\n    });\n  });\n};\n","export default () => {\n  const textareas = document.querySelectorAll('.js-form-textarea');\n\n  if (textareas.length === 0) return;\n\n  textareas.forEach((textarea) => {\n    textarea.addEventListener('focus', () => {\n      textarea.closest('.form-textarea').classList.remove('error');\n    });\n  });\n};\n","export default () => {\n  const classEnabled = 'enabled';\n  const classScrolled = 'scrolled';\n  const overlay = document.querySelector('.js-modal-overlay');\n  let timer;\n  let isScroll = false;\n  let deltaWidth = 0;\n\n  function scrollReInit(modal, initHeight, initWidth) {\n    if (document.body.clientHeight < modal.clientHeight || document.body.clientHeight < initHeight) {\n      modal.classList.add(classScrolled);\n      deltaWidth = initWidth - modal.clientWidth;\n      isScroll = true;\n    } else {\n      modal.classList.remove(classScrolled);\n      isScroll = false;\n      deltaWidth = 0;\n    }\n\n    if (isScroll) {\n      modal.style.width = `${initWidth + deltaWidth}px`;\n    } else {\n      modal.style.width = '';\n    }\n  }\n\n  function openPopup(id, callback) {\n    const modal = document.getElementById(id);\n    const close = modal.querySelector('.js-modal-close');\n    let initWidth = 0;\n    let initHeight = 0;\n\n    function onResize() {\n      clearTimeout(timer);\n      timer = setTimeout(() => {\n        modal.style.width = '';\n        initWidth = modal.clientWidth + deltaWidth;\n        scrollReInit(modal, initHeight, initWidth);\n      }, 300);\n    }\n\n    const closeModal = () => {\n      callback();\n      modal.classList.remove(classScrolled);\n      modal.style.width = '';\n      modal.classList.remove(classEnabled);\n      overlay.classList.remove(classEnabled);\n      document.removeEventListener('keydown', onPopupKeydown);\n      overlay.removeEventListener('click', closeModal);\n      close.removeEventListener('click', closeModal);\n      window.removeEventListener('resize', onResize);\n    };\n\n    const onPopupKeydown = (evt) => {\n      if (evt.key === 'Escape') {\n        evt.preventDefault();\n        closeModal();\n      }\n    };\n\n    modal.classList.add(classEnabled);\n    overlay.classList.add(classEnabled);\n\n    initHeight = modal.clientHeight;\n    initWidth = modal.clientWidth;\n\n    scrollReInit(modal, initHeight, initWidth);\n    close.addEventListener('click', closeModal);\n    document.addEventListener('keydown', onPopupKeydown);\n    setTimeout(() => {\n      overlay.addEventListener('click', closeModal);\n    }, 1000);\n\n    window.addEventListener('resize', onResize);\n  }\n\n  window.openPopup = openPopup;\n};\n","\n// Older browsers don't support event options, feature detect it.\n\n// Adopted and modified solution from Bohdan Didukh (2017)\n// https://stackoverflow.com/questions/41594997/ios-10-safari-prevent-scrolling-behind-a-fixed-overlay-and-maintain-scroll-posi\n\nlet hasPassiveEvents = false;\nif (typeof window !== 'undefined') {\n  const passiveTestOptions = {\n    get passive() {\n      hasPassiveEvents = true;\n      return undefined;\n    },\n  };\n  window.addEventListener('testPassive', null, passiveTestOptions);\n  window.removeEventListener('testPassive', null, passiveTestOptions);\n}\n\nconst isIosDevice = typeof window !== 'undefined' && window.navigator && window.navigator.platform && /iP(ad|hone|od)/.test(window.navigator.platform);\n\n\nlet locks = [];\nlet documentListenerAdded = false;\nlet initialClientY = -1;\nlet previousBodyOverflowSetting;\nlet previousBodyPaddingRight;\n\n// returns true if `el` should be allowed to receive touchmove events\nconst allowTouchMove = el => locks.some((lock) => {\n  if (lock.options.allowTouchMove && lock.options.allowTouchMove(el)) {\n    return true;\n  }\n\n  return false;\n});\n\nconst preventDefault = (rawEvent) => {\n  const e = rawEvent || window.event;\n\n  // For the case whereby consumers adds a touchmove event listener to document.\n  // Recall that we do document.addEventListener('touchmove', preventDefault, { passive: false })\n  // in disableBodyScroll - so if we provide this opportunity to allowTouchMove, then\n  // the touchmove event on document will break.\n  if (allowTouchMove(e.target)) {\n    return true;\n  }\n\n  // Do not prevent if the event has more than one touch (usually meaning this is a multi touch gesture like pinch to zoom)\n  if (e.touches.length > 1) return true;\n\n  if (e.preventDefault) e.preventDefault();\n\n  return false;\n};\n\nconst setOverflowHidden = (options) => {\n  // Setting overflow on body/documentElement synchronously in Desktop Safari slows down\n  // the responsiveness for some reason. Setting within a setTimeout fixes this.\n  setTimeout(() => {\n    // If previousBodyPaddingRight is already set, don't set it again.\n    if (previousBodyPaddingRight === undefined) {\n      const reserveScrollBarGap = !!options && options.reserveScrollBarGap === true;\n      const scrollBarGap = window.innerWidth - document.documentElement.clientWidth;\n\n      if (reserveScrollBarGap && scrollBarGap > 0) {\n        previousBodyPaddingRight = document.body.style.paddingRight;\n        document.body.style.paddingRight = `${scrollBarGap}px`;\n      }\n    }\n\n    // If previousBodyOverflowSetting is already set, don't set it again.\n    if (previousBodyOverflowSetting === undefined) {\n      previousBodyOverflowSetting = document.body.style.overflow;\n      document.body.style.overflow = 'hidden';\n    }\n  });\n};\n\nconst restoreOverflowSetting = () => {\n  // Setting overflow on body/documentElement synchronously in Desktop Safari slows down\n  // the responsiveness for some reason. Setting within a setTimeout fixes this.\n  setTimeout(() => {\n    if (previousBodyPaddingRight !== undefined) {\n      document.body.style.paddingRight = previousBodyPaddingRight;\n\n      // Restore previousBodyPaddingRight to undefined so setOverflowHidden knows it\n      // can be set again.\n      previousBodyPaddingRight = undefined;\n    }\n\n    if (previousBodyOverflowSetting !== undefined) {\n      document.body.style.overflow = previousBodyOverflowSetting;\n\n      // Restore previousBodyOverflowSetting to undefined\n      // so setOverflowHidden knows it can be set again.\n      previousBodyOverflowSetting = undefined;\n    }\n  });\n};\n\n// https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollHeight#Problems_and_solutions\nconst isTargetElementTotallyScrolled = targetElement => (targetElement ? targetElement.scrollHeight - targetElement.scrollTop <= targetElement.clientHeight : false);\n\nconst handleScroll = (event, targetElement) => {\n  const clientY = event.targetTouches[0].clientY - initialClientY;\n\n  if (allowTouchMove(event.target)) {\n    return false;\n  }\n\n  if (targetElement && targetElement.scrollTop === 0 && clientY > 0) {\n    // element is at the top of its scroll\n    return preventDefault(event);\n  }\n\n  if (isTargetElementTotallyScrolled(targetElement) && clientY < 0) {\n    // element is at the top of its scroll\n    return preventDefault(event);\n  }\n\n  event.stopPropagation();\n  return true;\n};\n\nexport const disableBodyScroll = (targetElement, options) => {\n  if (isIosDevice) {\n    // targetElement must be provided, and disableBodyScroll must not have been\n    // called on this targetElement before.\n    if (!targetElement) {\n      // eslint-disable-next-line no-console\n      console.error('disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.');\n      return;\n    }\n\n    if (targetElement && !locks.some(lock => lock.targetElement === targetElement)) {\n      const lock = {\n        targetElement,\n        options: options || {},\n      };\n\n      locks = [...locks, lock];\n\n      targetElement.ontouchstart = (event) => {\n        if (event.targetTouches.length === 1) {\n          // detect single touch\n          initialClientY = event.targetTouches[0].clientY;\n        }\n      };\n      targetElement.ontouchmove = (event) => {\n        if (event.targetTouches.length === 1) {\n          // detect single touch\n          handleScroll(event, targetElement);\n        }\n      };\n\n      if (!documentListenerAdded) {\n        document.addEventListener('touchmove', preventDefault, hasPassiveEvents ? { passive: false } : undefined);\n        documentListenerAdded = true;\n      }\n    }\n  } else {\n    setOverflowHidden(options);\n    const lock = {\n      targetElement,\n      options: options || {},\n    };\n\n    locks = [...locks, lock];\n  }\n};\n\nexport const clearAllBodyScrollLocks = () => {\n  if (isIosDevice) {\n    // Clear all locks ontouchstart/ontouchmove handlers, and the references\n    locks.forEach((lock) => {\n      lock.targetElement.ontouchstart = null;\n      lock.targetElement.ontouchmove = null;\n    });\n\n    if (documentListenerAdded) {\n      document.removeEventListener('touchmove', preventDefault, hasPassiveEvents ? { passive: false } : undefined);\n      documentListenerAdded = false;\n    }\n\n    locks = [];\n\n    // Reset initial clientY\n    initialClientY = -1;\n  } else {\n    restoreOverflowSetting();\n    locks = [];\n  }\n};\n\nexport const enableBodyScroll = (targetElement) => {\n  if (isIosDevice) {\n    if (!targetElement) {\n      // eslint-disable-next-line no-console\n      console.error('enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.');\n      return;\n    }\n\n    targetElement.ontouchstart = null;\n    targetElement.ontouchmove = null;\n\n    locks = locks.filter(lock => lock.targetElement !== targetElement);\n\n    if (documentListenerAdded && locks.length === 0) {\n      document.removeEventListener('touchmove', preventDefault, hasPassiveEvents ? { passive: false } : undefined);\n\n      documentListenerAdded = false;\n    }\n  } else {\n    locks = locks.filter(lock => lock.targetElement !== targetElement);\n    if (!locks.length) {\n      restoreOverflowSetting();\n    }\n  }\n};\n","/* global Cleave */\nimport { disableBodyScroll, enableBodyScroll } from '../../js/libs/bodyScrollLock.es6';\n\nexport default () => {\n  const gagerPopup = document.querySelector('.gager-modal');\n  if (!gagerPopup) return;\n\n  const gagerPopapOpenControls = document.querySelectorAll('.js-gager-open');\n  if (!gagerPopapOpenControls) return;\n\n  const form = document.querySelector('.js-gmf');\n  const phoneInput = form.querySelector('.js-gmf-phone input');\n  const nameInput = form.querySelector('.js-gmf-name input');\n\n  const cleave = new Cleave(phoneInput, {\n    numericOnly: true,\n    prefix: '+7',\n    noImmediatePrefix: true,\n    delimiters: [' ( ', ' ) ', ' - ', ' - '],\n    blocks: [2, 3, 3, 2, 2],\n  });\n\n  // +7 ( 337 ) 777 - 77 - 77   => length = '24';\n\n  function inputKeyCheck(evt) {\n    if (!evt.key) return;\n    const en = new RegExp('^[a-zA-Z ]+$');\n    const ru = new RegExp('^[а-яА-Я ]+$');\n    if (!en.test(evt.key) && !ru.test(evt.key)) {\n      evt.preventDefault();\n    }\n  }\n\n  function setGagerPopapListeners() {\n    nameInput.addEventListener('keypress', inputKeyCheck);\n  }\n\n  function removeGagerPopapListeners() {\n    nameInput.removeEventListener('keypress', inputKeyCheck);\n  }\n\n  function clearInputFields() {\n    phoneInput.value = '';\n    nameInput.value = '';\n  }\n\n  const closePopup = () => {\n    clearInputFields();\n    removeGagerPopapListeners();\n    enableBodyScroll(gagerPopup, { reserveScrollBarGap: true });\n  };\n\n  gagerPopapOpenControls.forEach((currentControl) => {\n    currentControl.addEventListener('click', (evt) => {\n      evt.preventDefault();\n      window.openPopup('gager-modal', closePopup);\n      setGagerPopapListeners();\n      disableBodyScroll(gagerPopup, { reserveScrollBarGap: true });\n    });\n  });\n};\n","/* global Cleave */\nimport { disableBodyScroll, enableBodyScroll } from '../../js/libs/bodyScrollLock.es6';\n\nexport default () => {\n  const callRequestPopup = document.querySelector('.call-request-modal');\n  if (!callRequestPopup) return;\n\n  const callRequestPopupOpenControls = document.querySelectorAll('.js-call-request-open');\n  if (!callRequestPopupOpenControls) return;\n\n  const form = document.querySelector('.js-crmf');\n  const phoneInput = form.querySelector('.js-crmf-phone input');\n\n  const cleave = new Cleave(phoneInput, {\n    numericOnly: true,\n    prefix: '+7',\n    noImmediatePrefix: true,\n    delimiters: [' ( ', ' ) ', ' - ', ' - '],\n    blocks: [2, 3, 3, 2, 2],\n  });\n\n  // +7 ( 337 ) 777 - 77 - 77   => length = '24';\n\n  function clearInputFields() {\n    phoneInput.value = '';\n  }\n\n  const closePopup = () => {\n    clearInputFields();\n    enableBodyScroll(callRequestPopup, { reserveScrollBarGap: true });\n  };\n\n  callRequestPopupOpenControls.forEach((currentControl) => {\n    currentControl.addEventListener('click', (evt) => {\n      evt.preventDefault();\n      window.openPopup('call-request-modal', closePopup);\n      disableBodyScroll(callRequestPopup, { reserveScrollBarGap: true });\n    });\n  });\n};\n","/* global Cleave */\nimport { disableBodyScroll, enableBodyScroll } from '../../js/libs/bodyScrollLock.es6';\n\nexport default () => {\n  const discountPopup = document.querySelector('.discount-modal');\n  if (!discountPopup) return;\n\n  const discountPopapOpenControls = document.querySelectorAll('.js-discount-open');\n  if (!discountPopapOpenControls) return;\n\n  const discountPopupCloseLabel = discountPopup.querySelector('.js-modal-close span');\n  discountPopupCloseLabel.classList.remove('visually-hidden');\n  discountPopupCloseLabel.classList.add('discount-modal__close-label');\n\n  const form = document.querySelector('.js-dmf');\n  const phoneInput = form.querySelector('.js-dmf-phone input');\n  const nameInput = form.querySelector('.js-dmf-name input');\n\n  const cleave = new Cleave(phoneInput, {\n    numericOnly: true,\n    prefix: '+7',\n    noImmediatePrefix: true,\n    delimiters: [' ( ', ' ) ', ' - ', ' - '],\n    blocks: [2, 3, 3, 2, 2],\n  });\n\n  // +7 ( 337 ) 777 - 77 - 77   => length = '24';\n\n  function inputKeyCheck(evt) {\n    if (!evt.key) return;\n    const en = new RegExp('^[a-zA-Z ]+$');\n    const ru = new RegExp('^[а-яА-Я ]+$');\n    if (!en.test(evt.key) && !ru.test(evt.key)) {\n      evt.preventDefault();\n    }\n  }\n\n  function setPopapListeners() {\n    nameInput.addEventListener('keypress', inputKeyCheck);\n  }\n\n  function removePopapListeners() {\n    nameInput.removeEventListener('keypress', inputKeyCheck);\n  }\n\n  function clearInputFields() {\n    phoneInput.value = '';\n    nameInput.value = '';\n  }\n\n  const closePopup = () => {\n    clearInputFields();\n    removePopapListeners();\n    enableBodyScroll(discountPopup, { reserveScrollBarGap: true });\n  };\n\n  discountPopapOpenControls.forEach((currentControl) => {\n    currentControl.addEventListener('click', (evt) => {\n      evt.preventDefault();\n      window.openPopup('discount-modal', closePopup);\n      setPopapListeners();\n      disableBodyScroll(discountPopup, { reserveScrollBarGap: true });\n    });\n  });\n};\n","import { disableBodyScroll, clearAllBodyScrollLocks } from '../../js/libs/bodyScrollLock.es6';\n\nexport default () => {\n  const WindowBreakpoints = {\n    DESKTOP: 1024,\n    TABLET: 1023,\n    MOBILE: 320,\n  };\n\n  const header = document.querySelector('.header');\n  const headerOpenedClass = 'header--menu-opened';\n\n  if (!header) return;\n\n  const burgerToggle = header.querySelector('.header__toggle');\n\n  const dropdown = header.querySelector('.header__dropdown');\n\n  const mainNavWrap = header.querySelector('.header__main-nav-wrap');\n  const mainNav = header.querySelector('.header__main-nav');\n\n  const calculatorButton = header.querySelector('.header__calculator');\n\n  const scheduleWrap = header.querySelector('.header__schedule-wrap');\n\n  calculatorButton.addEventListener('click', () => { console.log('Открыть калькулятор'); });\n\n  const adjustDesktop = () => {\n    clearAllBodyScrollLocks(dropdown);\n    mainNavWrap.prepend(mainNav);\n  };\n\n\n  const adjustTablet = () => {\n    if (header.classList.contains('header--menu-opened')) {\n      disableBodyScroll(header);\n    }\n\n    const fragment = new DocumentFragment();\n    fragment.appendChild(scheduleWrap);\n    fragment.appendChild(mainNav);\n    dropdown.appendChild(fragment);\n  };\n\n  const adjustMobile = () => {\n    if (header.classList.contains('header--menu-opened')) {\n      disableBodyScroll(header);\n    }\n\n    const fragment = new DocumentFragment();\n\n    fragment.appendChild(scheduleWrap);\n    fragment.appendChild(mainNav);\n\n    dropdown.appendChild(fragment);\n  };\n\n\n  const checkWindowWidth = () => {\n    if (window.matchMedia(`(min-width: ${WindowBreakpoints.DESKTOP}px)`).matches) {\n      return WindowBreakpoints.DESKTOP;\n    }\n    if (window.matchMedia(`(min-width: ${WindowBreakpoints.TABLET}px)`).matches) {\n      return WindowBreakpoints.TABLET;\n    }\n    return WindowBreakpoints.MOBILE;\n  };\n\n\n  const adjustDropdownMaxHeight = () => {\n    const rect = header.getBoundingClientRect();\n\n    dropdown.style.maxHeight = `calc(100vh - ${rect.bottom}px)`;\n  };\n\n  let lastWindowMode = -1;\n  const adjustMenu = () => {\n    const currentWindowMode = checkWindowWidth();\n    if (lastWindowMode !== currentWindowMode) {\n      switch (currentWindowMode) {\n        case WindowBreakpoints.MOBILE:\n          adjustMobile();\n          break;\n        case WindowBreakpoints.TABLET:\n          adjustTablet();\n          break;\n        default:\n          adjustDesktop();\n          break;\n      }\n      lastWindowMode = currentWindowMode;\n    }\n  };\n\n  const closeMenu = () => {\n    header.classList.remove(headerOpenedClass);\n    clearAllBodyScrollLocks(dropdown);\n  };\n\n  const openMenu = () => {\n    adjustDropdownMaxHeight();\n    header.classList.add(headerOpenedClass);\n    adjustMenu();\n    disableBodyScroll(dropdown);\n  };\n\n  burgerToggle.addEventListener('click', () => {\n    if (header.classList.contains(headerOpenedClass)) {\n      closeMenu();\n    } else {\n      openMenu();\n    }\n  });\n\n  let resizeTimeout;\n\n  function resizeThrottler() {\n    // ignore resize events as long as an actualResizeHandler execution is in the queue\n    if (!resizeTimeout) {\n      resizeTimeout = setTimeout(() => {\n        resizeTimeout = null;\n        adjustMenu();\n        adjustDropdownMaxHeight();\n\n        // The actualResizeHandler will execute at a rate of 15fps\n      }, 10);\n    }\n  }\n\n  window.addEventListener('resize', resizeThrottler, false);\n  adjustMenu();\n\n  /** ****************************************************************** */\n\n  const CATALOG_MODE_CLASS = 'header__dropdown--window';\n  const SUB_CATALOG_MODE_CLASS = 'header__dropdown--sub-catalog';\n  const ACTIVE_CATALOG_LINK_CLASS = 'nav-window__item--active';\n\n  const navCatalog = header.querySelector('.main-nav__item--window .main-nav__link');\n\n  navCatalog.addEventListener('click', () => {\n    if (dropdown.classList.contains(CATALOG_MODE_CLASS)) {\n      dropdown.classList.remove(CATALOG_MODE_CLASS);\n    } else {\n      dropdown.classList.add(CATALOG_MODE_CLASS);\n    }\n  });\n\n  const navCatalogLinks = header.querySelectorAll('.nav-window__link');\n\n  navCatalogLinks.forEach((element) => {\n    element.addEventListener('click', (e) => {\n      const parent = e.target.parentElement;\n\n      if (parent.classList.contains(ACTIVE_CATALOG_LINK_CLASS)) {\n        // надо схлопнуть секцию\n        parent.classList.remove(ACTIVE_CATALOG_LINK_CLASS);\n      } else {\n        // надо найти открытую и закрыть, и затем открыть текущую\n        const currentOpened = header.querySelector(`.${ACTIVE_CATALOG_LINK_CLASS}`);\n        if (currentOpened) {\n          currentOpened.classList.remove(ACTIVE_CATALOG_LINK_CLASS);\n        }\n\n        parent.classList.add(ACTIVE_CATALOG_LINK_CLASS);\n      }\n\n      if (dropdown.classList.contains(SUB_CATALOG_MODE_CLASS)) {\n        const currentOpened = header.querySelector(`.${ACTIVE_CATALOG_LINK_CLASS}`);\n        if (!currentOpened) {\n          dropdown.classList.remove(SUB_CATALOG_MODE_CLASS);\n        }\n      } else {\n        dropdown.classList.add(SUB_CATALOG_MODE_CLASS);\n      }\n    });\n  });\n};\n","/* global Swiper */\n\nexport default () => {\n  const container = document.querySelector('.main-slider__container');\n  if (!container) return;\n\n  const wrapper = container.querySelector('.main-slider__wrapper');\n  const slides = container.querySelectorAll('.main-slider__slide');\n\n  function initializeSlider() {\n    container.classList.add('swiper-container');\n    wrapper.classList.add('swiper-wrapper');\n    slides.forEach((slide) => {\n      slide.classList.add('swiper-slide');\n    });\n\n    const slider = new Swiper(container, {\n      direction: 'horizontal',\n      loop: true,\n      slidesPerView: 1,\n      spaceBetween: 20,\n      slidesOffsetBefore: 0,\n      slidesOffsetAfter: 0,\n      breakpoints: {},\n      pagination: {\n        el: '.main-slider__pagination',\n        type: 'bullets',\n        bulletElement: 'span',\n        bulletClass: 'pagination-bullet',\n        bulletActiveClass: 'pagination-bullet--active',\n        clickable: true,\n      },\n    });\n  }\n\n  initializeSlider();\n};\n","export default () => {\n  const paginationButtons = document.querySelectorAll('.page-pagination__elem');\n\n  paginationButtons.forEach((it) => {\n    it.addEventListener('click', (evt) => {\n      paginationButtons.forEach((pbtn) => {\n        pbtn.classList.remove('page-pagination__elem--active');\n      });\n\n      evt.target.classList.add('page-pagination__elem--active');\n    });\n  });\n};\n","/* global Swiper */\n\nexport default () => {\n  const profileSystem = document.querySelector('.profile-systems');\n  if (!profileSystem) return;\n\n  const wcSystemControl = profileSystem.querySelector('.js-pswc-button');\n  const wcSystemContent = profileSystem.querySelector('.js-pswc-content');\n\n  const wacSystemControl = profileSystem.querySelector('.js-pswac-button');\n  const wacSystemContent = profileSystem.querySelector('.js-pswac-content');\n\n  const activeClass = 'active';\n  const disabledClass = 'disabled';\n  let slider;\n\n  const wcSwiperContainer = wcSystemContent;\n  const wcSwiperWrapper = profileSystem.querySelector('.profile-systems__wood-windows');\n  const wcSwiperSlides = profileSystem.querySelectorAll('.profile-systems__wood-windows .products-set__product');\n  const wcSliderNav = profileSystem.querySelector('.js-pswc-nav');\n\n  const wacSwiperContainer = wacSystemContent;\n  const wacSwiperWrapper = profileSystem.querySelector('.profile-systems__wood-aluminum-windows');\n  const wacSwiperSlides = profileSystem.querySelectorAll('.profile-systems__wood-aluminum-windows .products-set__product');\n  const wacSliderNav = profileSystem.querySelector('.js-pswac-nav');\n\n  function sliderInit(container, wrapper, slides, nav) {\n    container.classList.add('swiper-container');\n    wrapper.classList.add('swiper-wrapper');\n    slides.forEach((slide) => {\n      slide.classList.add('swiper-slide');\n    });\n\n    let navNextPrefix;\n    let navPrevPrefix;\n\n    if (nav) {\n      navNextPrefix = nav.classList.contains('js-pswc-nav') ? '.js-pswc-nav .slider-navigation__btn--next' : '.js-pswac-nav .slider-navigation__btn--next';\n      navPrevPrefix = nav.classList.contains('js-pswc-nav') ? '.js-pswc-nav .slider-navigation__btn--prev' : '.js-pswac-nav .slider-navigation__btn--prev';\n    }\n\n    slider = new Swiper(container, {\n      direction: 'horizontal',\n      loop: true,\n      preloadImages: true,\n      loadPrevNext: true,\n      loadPrevNextAmount: 3,\n      watchSlidesVisibility: true,\n      slidesPerView: 3,\n      spaceBetween: 0,\n      breakpoints: {\n        1023: {\n          slidesPerView: 2,\n          loadPrevNextAmount: 2,\n          spaceBetween: 40,\n          slidesOffsetBefore: 0,\n          slidesOffsetAfter: 0,\n        },\n        767: {\n          slidesPerView: 1,\n          loadPrevNextAmount: 2,\n          spaceBetween: 20,\n          slidesOffsetBefore: 0,\n          slidesOffsetAfter: 0,\n        },\n      },\n      navigation: {\n        nextEl: navNextPrefix,\n        prevEl: navPrevPrefix,\n      },\n      on: {\n        beforeResize() {\n          if (window.innerWidth <= 767) {\n            slider.slides.css('width', '');\n          }\n        },\n      },\n    });\n  }\n\n  function sliderDestroy(container, wrapper, slides) {\n    slider.destroy();\n    container.classList.remove('swiper-container');\n    wrapper.classList.remove('swiper-wrapper');\n    slides.forEach((slide) => {\n      slide.classList.remove('swiper-slide');\n    });\n  }\n\n  wcSystemControl.addEventListener('click', () => {\n    wacSystemControl.classList.remove(activeClass);\n    wcSystemControl.classList.add(activeClass);\n\n    wacSystemContent.classList.add(disabledClass);\n    wcSystemContent.classList.remove(disabledClass);\n\n    if (slider) {\n      sliderDestroy(wacSwiperContainer, wacSwiperWrapper, wacSwiperSlides);\n      wacSliderNav.classList.add(disabledClass);\n    }\n\n    sliderInit(wcSwiperContainer, wcSwiperWrapper, wcSwiperSlides, wcSliderNav);\n    wcSliderNav.classList.remove(disabledClass);\n  });\n\n  wacSystemControl.addEventListener('click', () => {\n    wacSystemControl.classList.add(activeClass);\n    wcSystemControl.classList.remove(activeClass);\n\n    wacSystemContent.classList.remove(disabledClass);\n    wcSystemContent.classList.add(disabledClass);\n\n    sliderDestroy(wcSwiperContainer, wcSwiperWrapper, wcSwiperSlides);\n    wcSliderNav.classList.add(disabledClass);\n    sliderInit(wacSwiperContainer, wacSwiperWrapper, wacSwiperSlides, wacSliderNav);\n    wacSliderNav.classList.remove(disabledClass);\n  });\n\n  wcSystemControl.click();\n};\n","/* global Parsley */\n/* global Cleave */\n\nexport default () => {\n  const form = document.querySelector('.js-wsrf');\n  if (!form) return;\n\n  const phoneInput = document.querySelector('.js-wsrf-phone input');\n  const nameInput = document.querySelector('.js-wsrf-name input');\n  const button = document.querySelector('.js-wsrf-submit');\n  let parsleyForm;\n  const parsleyOptions = {\n    uiEnabled: false,\n    focus: 'none',\n  };\n\n  const cleave = new Cleave(phoneInput, {\n    numericOnly: true,\n    prefix: '+7',\n    noImmediatePrefix: true,\n    delimiters: [' ( ', ' ) ', ' - ', ' - '],\n    blocks: [2, 3, 3, 2, 2],\n  });\n\n  // +7 ( 337 ) 777 - 77 - 77\n  phoneInput.dataset.parsleyMinlength = '24';\n\n  function inputKeyCheck(evt) {\n    if (!evt.key) return;\n    const en = new RegExp('^[a-zA-Z ]+$');\n    const ru = new RegExp('^[а-яА-Я ]+$');\n    if (!en.test(evt.key) && !ru.test(evt.key)) {\n      evt.preventDefault();\n    }\n  }\n\n  nameInput.addEventListener('keypress', inputKeyCheck);\n\n  function submitButtonListener(evt) {\n    evt.preventDefault();\n    parsleyForm.validate();\n  }\n\n  function onSuccess() {\n    // console.log('success');\n    nameInput.value = '';\n    phoneInput.value = '';\n  }\n\n  button.addEventListener('click', submitButtonListener);\n  parsleyForm = new Parsley.Factory(form, parsleyOptions);\n\n  parsleyForm.on('form:success', onSuccess);\n\n  parsleyForm.on('field:error', (evt) => {\n    evt.element.closest('.js-wsrf-validate').classList.add('error');\n  });\n\n  parsleyForm.on('field:success', (evt) => {\n    evt.element.closest('.js-wsrf-validate').classList.remove('error');\n  });\n};\n","/* global Parsley */\n/* global Cleave */\n\nexport default () => {\n  const form = document.querySelector('.js-grf');\n  if (!form) return;\n\n  const phoneInput = document.querySelector('.js-grf-phone input');\n  const nameInput = document.querySelector('.js-grf-name input');\n  const button = document.querySelector('.js-grf-submit');\n  let parsleyForm;\n  const parsleyOptions = {\n    uiEnabled: false,\n    focus: 'none',\n  };\n\n  const cleave = new Cleave(phoneInput, {\n    numericOnly: true,\n    prefix: '+7',\n    noImmediatePrefix: true,\n    delimiters: [' ( ', ' ) ', ' - ', ' - '],\n    blocks: [2, 3, 3, 2, 2],\n  });\n\n  // +7 ( 337 ) 777 - 77 - 77\n  phoneInput.dataset.parsleyMinlength = '24';\n\n  function inputKeyCheck(evt) {\n    if (!evt.key) return;\n    const en = new RegExp('^[a-zA-Z ]+$');\n    const ru = new RegExp('^[а-яА-Я ]+$');\n    if (!en.test(evt.key) && !ru.test(evt.key)) {\n      evt.preventDefault();\n    }\n  }\n\n  nameInput.addEventListener('keypress', inputKeyCheck);\n\n  function submitButtonListener(evt) {\n    evt.preventDefault();\n    parsleyForm.validate();\n  }\n\n  function onSuccess() {\n    // console.log('success');\n    nameInput.value = '';\n    phoneInput.value = '';\n  }\n\n  button.addEventListener('click', submitButtonListener);\n  parsleyForm = new Parsley.Factory(form, parsleyOptions);\n\n  parsleyForm.on('form:success', onSuccess);\n\n  parsleyForm.on('field:error', (evt) => {\n    evt.element.closest('.js-grf-validate').classList.add('error');\n  });\n\n  parsleyForm.on('field:success', (evt) => {\n    evt.element.closest('.js-grf-validate').classList.remove('error');\n  });\n};\n","/* global Swiper */\n\nexport default () => {\n  const container = document.querySelector('.reviews-section__container');\n  if (!container) return;\n\n  const wrapper = container.querySelector('.reviews-section__wrapper');\n  const slides = container.querySelectorAll('.review-card');\n\n  function initializeReviews() {\n    container.classList.add('swiper-container');\n    wrapper.classList.add('swiper-wrapper');\n    slides.forEach((slide) => {\n      slide.classList.add('swiper-slide');\n    });\n\n    const swiperReviews = new Swiper(container, {\n      direction: 'horizontal',\n      loop: true,\n      preloadImages: true,\n      loadPrevNext: true,\n      loadPrevNextAmount: 2,\n      slidesPerView: 2,\n      spaceBetween: 45,\n      slidesOffsetBefore: 0,\n      slidesOffsetAfter: 0,\n      breakpoints: {\n        1199: {\n          centeredSlides: true,\n          slidesPerView: 1,\n        },\n      },\n      navigation: {\n        nextEl: '.reviews-section__navigation-btn-next',\n        prevEl: '.reviews-section__navigation-btn-prev',\n      },\n    });\n  }\n\n  initializeReviews();\n};\n","/* global Swiper */\n\nexport default () => {\n  const container = document.querySelector('.work-report__slider-container');\n  if (!container) return;\n\n  const wrapper = container.querySelector('.work-report__slider-wrapper');\n  const slides = container.querySelectorAll('.work-report__slide');\n\n  function initializeSlider() {\n    container.classList.add('swiper-container');\n    wrapper.classList.add('swiper-wrapper');\n    slides.forEach((slide) => {\n      slide.classList.add('swiper-slide');\n    });\n\n    const workReportSwiper = new Swiper(container, {\n      direction: 'horizontal',\n      loop: true,\n      preloadImages: true,\n      loadPrevNext: true,\n      loadPrevNextAmount: 1,\n      centeredSlides: true,\n      slidesPerView: 1,\n      spaceBetween: 10,\n      slidesOffsetBefore: 0,\n      slidesOffsetAfter: 0,\n      breakpoints: {},\n      navigation: {\n        nextEl: '.work-report__navigation-btn-next',\n        prevEl: '.work-report__navigation-btn-prev',\n      },\n    });\n  }\n\n  initializeSlider();\n};\n","/* global Swiper */\n\nexport default () => {\n  const container = document.querySelector('.brands__container');\n  if (!container) return;\n\n  const wrapper = container.querySelector('.brands__list');\n  const slides = container.querySelectorAll('.brands__brand-item');\n\n  function sliderInit() {\n    container.classList.add('swiper-container');\n    wrapper.classList.add('swiper-wrapper');\n    slides.forEach((slide) => {\n      slide.classList.add('swiper-slide');\n    });\n\n    const slider = new Swiper(container, {\n      direction: 'horizontal',\n      loop: true,\n      preloadImages: true,\n      loadPrevNext: true,\n      loadPrevNextAmount: 2,\n      slidesPerView: 'auto',\n      spaceBetween: 30,\n      slidesOffsetBefore: 0,\n      slidesOffsetAfter: 0,\n      breakpoints: {\n      },\n      navigation: {\n        nextEl: '.brands__navigation-btn-next',\n        prevEl: '.brands__navigation-btn-prev',\n      },\n    });\n  }\n\n  sliderInit();\n};\n","/* global Swiper */\n\nexport default () => {\n  const examples = document.querySelector('.examples');\n  if (!examples) return;\n\n  const container = examples.querySelector('.examples__gallery-top');\n  const wrapper = container.querySelector('.examples__wrapper');\n  const slides = container.querySelectorAll('.examples__slide');\n\n  const thumbs = examples.querySelector('.examples__gallery-thumbs');\n  const thumbsWrapper = thumbs.querySelector('.thumbs__wrapper');\n  const thumbsSlides = thumbs.querySelectorAll('.thumbs__slide');\n\n  function sliderInit() {\n    container.classList.add('swiper-container');\n    thumbs.classList.add('swiper-container');\n\n    wrapper.classList.add('swiper-wrapper');\n    thumbsWrapper.classList.add('swiper-wrapper');\n\n    slides.forEach((slide) => {\n      slide.classList.add('swiper-slide');\n    });\n\n    thumbsSlides.forEach((slide) => {\n      slide.classList.add('swiper-slide');\n    });\n\n    const galleryThumbs = new Swiper(thumbs, {\n      spaceBetween: 8,\n      slidesPerView: 4,\n      watchSlidesVisibility: true,\n      watchSlidesProgress: true,\n    });\n\n    const galleryTop = new Swiper(container, {\n      preloadImages: true,\n      loadPrevNext: true,\n      loadPrevNextAmount: 2,\n      spaceBetween: 10,\n      breakpoints: {\n      },\n      navigation: {\n        nextEl: '.examples__navigation-btn-next',\n        prevEl: '.examples__navigation-btn-prev',\n      },\n      thumbs: {\n        swiper: galleryThumbs,\n      },\n    });\n  }\n\n  sliderInit();\n};\n","export default () => {\n  const container = document.querySelector('.popular-windows');\n  if (!container) return;\n\n  const contents = container.querySelectorAll('.popular-windows__models-set');\n  const controls = container.querySelectorAll('.js-pwc-button');\n\n  const activeClass = 'active';\n  const disabledClass = 'disabled';\n\n  let activeControl;\n\n  function contentReset() {\n    contents.forEach((set) => {\n      set.classList.add(disabledClass);\n\n      if (set.dataset.pwc === activeControl.dataset.pwc) {\n        set.classList.remove(disabledClass);\n      }\n    });\n  }\n\n  function sectionInit() {\n    controls.forEach((btn) => {\n      btn.classList.remove(activeClass);\n    });\n\n    activeControl = controls[0];\n    activeControl.classList.add(activeClass);\n\n    contentReset();\n\n    controls[0].click();\n  }\n\n  controls.forEach((btn) => {\n    btn.addEventListener('click', (evt) => {\n      evt.preventDefault();\n\n      activeControl.classList.remove(activeClass);\n      activeControl = btn;\n      activeControl.classList.add(activeClass);\n\n      contentReset();\n    });\n  });\n\n  sectionInit();\n};\n","export default () => {\n  const container = document.querySelector('.popular-doors');\n  if (!container) return;\n\n  const contents = container.querySelectorAll('.popular-doors__models-set');\n  const controls = container.querySelectorAll('.js-pdc-button');\n\n  const activeClass = 'active';\n  const disabledClass = 'disabled';\n\n  let activeControl;\n\n  function contentReset() {\n    contents.forEach((set) => {\n      set.classList.add(disabledClass);\n\n      if (set.dataset.pdc === activeControl.dataset.pdc) {\n        set.classList.remove(disabledClass);\n      }\n    });\n  }\n\n  function sectionInit() {\n    controls.forEach((btn) => {\n      btn.classList.remove(activeClass);\n    });\n\n    activeControl = controls[0];\n    activeControl.classList.add(activeClass);\n\n    contentReset();\n\n    controls[0].click();\n  }\n\n  controls.forEach((btn) => {\n    btn.addEventListener('click', (evt) => {\n      evt.preventDefault();\n\n      activeControl.classList.remove(activeClass);\n      activeControl = btn;\n      activeControl.classList.add(activeClass);\n\n      contentReset();\n    });\n  });\n\n  sectionInit();\n};\n","/* global Swiper */\n\nexport default () => {\n  const promoSection = document.querySelector('.promotions-section');\n  if (!promoSection) return;\n\n  const container = promoSection.querySelector('.promotions-section__slider-container');\n\n  const wrapper = container.querySelector('.promotions-section__promo-list');\n  const slides = container.querySelectorAll('.promotions-section__promo-item');\n\n  const contents = promoSection.querySelectorAll('.promotions-section__content');\n  const controls = container.querySelectorAll('.promotions-section__promo-item');\n\n  const disabledClass = 'disabled';\n\n  function contentReset(activeControl) {\n    contents.forEach((set) => {\n      set.classList.add(disabledClass);\n\n      if (set.dataset.promoControl === activeControl.dataset.promoControl) {\n        set.classList.remove(disabledClass);\n      }\n    });\n  }\n\n  function sectionInit() {\n    contentReset(controls[0]);\n  }\n\n  controls.forEach((btn) => {\n    btn.addEventListener('click', (evt) => {\n      evt.preventDefault();\n      contentReset(btn);\n    });\n  });\n\n  function sliderInit() {\n    container.classList.add('swiper-container');\n    wrapper.classList.add('swiper-wrapper');\n    slides.forEach((slide) => {\n      slide.classList.add('swiper-slide');\n    });\n\n    const slider = new Swiper(container, {\n      direction: 'horizontal',\n      // width: 976,\n      loop: false,\n      preloadImages: true,\n      loadPrevNext: true,\n      loadPrevNextAmount: 2,\n      slidesPerView: 3,\n      spaceBetween: 55,\n      slidesOffsetBefore: 20,\n      slidesOffsetAfter: 20,\n      breakpoints: {\n        1199: {\n          spaceBetween: 40,\n        },\n        1023: {\n          spaceBetween: 30,\n          slidesPerView: 2,\n          slidesOffsetBefore: 0,\n          slidesOffsetAfter: 0,\n        },\n        579: {\n          spaceBetween: 30,\n          slidesPerView: 1,\n          slidesOffsetBefore: 0,\n          slidesOffsetAfter: 0,\n        },\n      },\n      navigation: {\n        nextEl: '.promotions-section__navigation-btn-next',\n        prevEl: '.promotions-section__navigation-btn-prev',\n      },\n    });\n  }\n\n  sliderInit();\n  sectionInit();\n};\n","/* global L */\n\nexport default () => {\n  const mapContainer = document.querySelector('#map');\n  if (!mapContainer) return;\n\n  const addressPoints = [\n    [\n      55.859069,\n      37.602726,\n      '<div><span class=\"img\"><img src=\"img/logos/logo-footer.png\" width=\"300\" height=\"150\"></span><br><h3>Наш офис:</h3><br>г. Москва, Отрадная, 2<br>ежедневно с 10:00 - 20:00<br><hr>e-mail: window@winfin.ru<br><b>+7 (499) 904 14 88  +7(499) 904 01 71</b><br>Viber / WhatsApp +79169495077</div>',\n      'Офис компании WINFIN',\n    ],\n  ];\n\n  const tiles = L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {\n    maxZoom: 18,\n    attribution: 'Map data &copy; <a href=\"https://www.openstreetmap.org/\">OpenStreetMap</a> contributors, <a href=\"https://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA</a>, Imagery © <a href=\"https://www.mapbox.com/\">Mapbox</a>',\n  });\n\n  const latlng = L.latLng(55.859069, 37.602726);\n  const map = L.map('map', { center: latlng, zoom: 14, layers: [tiles] });\n  const markers = L.layerGroup();\n\n  const greenIcon = new L.Icon({\n    iconUrl: 'img/logos/map-big-logo.png',\n    shadowUrl: 'img/logos/map-big-logo-shadow.png',\n    iconSize: [85, 26],\n    iconAnchor: [12, 41],\n    popupAnchor: [1, -34],\n    shadowSize: [85, 26],\n  });\n\n  addressPoints.forEach((point) => {\n    const a = point;\n    const title = a[2];\n    const description = a[3];\n    const marker = L.marker(new L.LatLng(a[0], a[1]), { icon: greenIcon, title: description });\n    marker.bindPopup(title);\n    markers.addLayer(marker);\n  });\n\n  map.addLayer(markers);\n};\n","/* global Swiper */\n\nexport default () => {\n  const certificates = document.querySelector('.certificates');\n  if (!certificates) return;\n\n  const container = certificates.querySelector('.certificates__container');\n  const wrapper = container.querySelector('.certificates__wrapper');\n  const slides = container.querySelectorAll('.certificates__slide');\n\n  function initializeSlider() {\n    container.classList.add('swiper-container');\n    wrapper.classList.add('swiper-wrapper');\n    slides.forEach((slide) => {\n      slide.classList.add('swiper-slide');\n    });\n\n    const slider = new Swiper(container, {\n      direction: 'horizontal',\n      loop: true,\n      preloadImages: true,\n      loadPrevNext: true,\n      loadPrevNextAmount: 1,\n      slidesPerView: 5,\n      spaceBetween: 10,\n      slidesOffsetBefore: 0,\n      slidesOffsetAfter: 0,\n      breakpoints: {\n        1023: {\n          slidesPerView: 3,\n          slidesOffsetBefore: 0,\n          slidesOffsetAfter: 0,\n        },\n        579: {\n          slidesPerView: 2,\n        },\n      },\n      navigation: {\n        nextEl: '.certificates__navigation-btn-next',\n        prevEl: '.certificates__navigation-btn-prev',\n      },\n    });\n  }\n\n  initializeSlider();\n};\n","export default () => {\n  const form = document.querySelector('.js-cf');\n  if (!form) return;\n\n  const sizeInput = form.querySelectorAll('.js-cf-size input');\n\n  function inputKeyCheck(evt) {\n    if (!evt.key) return;\n    const num = new RegExp('^[0-9]+$');\n    if (!num.test(evt.key)) {\n      evt.preventDefault();\n    }\n  }\n\n  sizeInput.forEach((current) => {\n    current.addEventListener('keypress', inputKeyCheck);\n  });\n};\n","/* global Parsley */\n/* global Cleave */\n\nexport default () => {\n  const form = document.querySelector('.js-omf');\n  if (!form) return;\n\n  const phoneInput = document.querySelector('.js-omf-phone input');\n  const button = document.querySelector('.js-omf-submit');\n  let parsleyForm;\n  const parsleyOptions = {\n    uiEnabled: false,\n    focus: 'none',\n  };\n\n  const cleave = new Cleave(phoneInput, {\n    numericOnly: true,\n    prefix: '+7',\n    noImmediatePrefix: true,\n    delimiters: [' ( ', ' ) ', ' - ', ' - '],\n    blocks: [2, 3, 3, 2, 2],\n  });\n\n  // +7 ( 337 ) 777 - 77 - 77\n  phoneInput.dataset.parsleyMinlength = '24';\n\n  function submitButtonListener(evt) {\n    evt.preventDefault();\n    parsleyForm.validate();\n  }\n\n  function onSuccess() {\n    // console.log('success');\n  }\n\n  button.addEventListener('click', submitButtonListener);\n  parsleyForm = new Parsley.Factory(form, parsleyOptions);\n\n  parsleyForm.on('form:success', onSuccess);\n\n  parsleyForm.on('field:error', (evt) => {\n    evt.element.closest('.js-omf-validate').classList.add('error');\n  });\n\n  parsleyForm.on('field:success', (evt) => {\n    evt.element.closest('.js-omf-validate').classList.remove('error');\n  });\n};\n","/* global Swiper */\n\nexport default () => {\n  const mainBlock = document.querySelector('.multi-examples');\n  if (!mainBlock) return;\n\n  const contents = mainBlock.querySelectorAll('.multi-examples__set');\n  const controls = mainBlock.querySelectorAll('.js-mec-control-button');\n\n  const activeClass = 'active';\n  const disabledClass = 'disabled';\n  let activeControl;\n\n  let galleryThumbs;\n  let galleryTop;\n\n  let container;\n  let wrapper;\n  let slides;\n\n  let thumbs;\n  let thumbsWrapper;\n  let thumbsSlides;\n\n  function sliderInit(activSet) {\n    container = activSet.querySelector('.multi-examples__gallery-top');\n    wrapper = container.querySelector('.multi-examples__wrapper');\n    slides = container.querySelectorAll('.multi-examples__slide');\n\n    thumbs = activSet.querySelector('.multi-examples__gallery-thumbs');\n    thumbsWrapper = thumbs.querySelector('.multi-examples__thumbs-wrapper');\n    thumbsSlides = thumbs.querySelectorAll('.multi-examples__thumbs-slide');\n\n    container.classList.add('swiper-container');\n    thumbs.classList.add('swiper-container');\n\n    wrapper.classList.add('swiper-wrapper');\n    thumbsWrapper.classList.add('swiper-wrapper');\n\n    slides.forEach((slide) => {\n      slide.classList.add('swiper-slide');\n    });\n\n    thumbsSlides.forEach((slide) => {\n      slide.classList.add('swiper-slide');\n    });\n\n    galleryThumbs = new Swiper(thumbs, {\n      spaceBetween: 8,\n      slidesPerView: 4,\n      watchSlidesVisibility: true,\n      watchSlidesProgress: true,\n    });\n\n    galleryTop = new Swiper(container, {\n      preloadImages: true,\n      loadPrevNext: true,\n      loadPrevNextAmount: 2,\n      spaceBetween: 10,\n      breakpoints: {\n      },\n      navigation: {\n        nextEl: '.multi-examples__navigation-btn-next',\n        prevEl: '.multi-examples__navigation-btn-prev',\n      },\n      thumbs: {\n        swiper: galleryThumbs,\n      },\n    });\n  }\n\n  function sliderDestroy() {\n    galleryTop.destroy();\n    galleryThumbs.destroy();\n\n    container.classList.remove('swiper-container');\n    wrapper.classList.remove('swiper-wrapper');\n    slides.forEach((slide) => {\n      slide.classList.remove('swiper-slide');\n    });\n\n    thumbs.classList.remove('swiper-container');\n    thumbsWrapper.classList.remove('swiper-wrapper');\n    thumbsSlides.forEach((slide) => {\n      slide.classList.remove('swiper-slide');\n    });\n  }\n\n  function contentReset() {\n    contents.forEach((set) => {\n      set.classList.add(disabledClass);\n\n      if (set.dataset.mecControl === activeControl.dataset.mecControl) {\n        set.classList.remove(disabledClass);\n        sliderInit(set);\n      }\n    });\n  }\n\n  function sectionInit() {\n    controls.forEach((btn) => {\n      btn.classList.remove(activeClass);\n    });\n\n    activeControl = controls[0];\n    activeControl.classList.add(activeClass);\n\n    contentReset();\n\n    controls[0].click();\n  }\n\n  controls.forEach((btn) => {\n    btn.addEventListener('click', (evt) => {\n      evt.preventDefault();\n\n      activeControl.classList.remove(activeClass);\n      activeControl = btn;\n      activeControl.classList.add(activeClass);\n\n      sliderDestroy();\n      contentReset();\n    });\n  });\n\n  sectionInit();\n};\n","/* global Parsley */\n/* global Cleave */\n\nexport default () => {\n  const form = document.querySelector('.js-fbf');\n  if (!form) return;\n\n  const phoneInput = document.querySelector('.js-fbf-phone input');\n  const nameInput = document.querySelector('.js-fbf-name input');\n  const button = document.querySelector('.js-fbf-submit');\n  let parsleyForm;\n  const parsleyOptions = {\n    uiEnabled: false,\n    focus: 'none',\n  };\n\n  const cleave = new Cleave(phoneInput, {\n    numericOnly: true,\n    prefix: '+7',\n    noImmediatePrefix: true,\n    delimiters: [' ( ', ' ) ', ' - ', ' - '],\n    blocks: [2, 3, 3, 2, 2],\n  });\n\n  // +7 ( 337 ) 777 - 77 - 77\n  phoneInput.dataset.parsleyMinlength = '24';\n\n  function inputKeyCheck(evt) {\n    if (!evt.key) return;\n    const en = new RegExp('^[a-zA-Z ]+$');\n    const ru = new RegExp('^[а-яА-Я ]+$');\n    if (!en.test(evt.key) && !ru.test(evt.key)) {\n      evt.preventDefault();\n    }\n  }\n\n  nameInput.addEventListener('keypress', inputKeyCheck);\n\n  function submitButtonListener(evt) {\n    evt.preventDefault();\n    parsleyForm.validate();\n  }\n\n  function onSuccess() {\n    console.log('success');\n  }\n\n  button.addEventListener('click', submitButtonListener);\n  parsleyForm = new Parsley.Factory(form, parsleyOptions);\n\n  parsleyForm.on('form:success', onSuccess);\n\n  parsleyForm.on('field:error', (evt) => {\n    evt.element.closest('.js-fbf-validate').classList.add('error');\n  });\n\n  parsleyForm.on('field:success', (evt) => {\n    evt.element.closest('.js-fbf-validate').classList.remove('error');\n  });\n};\n","/* global Swiper */\n\nexport default () => {\n  const accessories = document.querySelector('.accessories');\n  if (!accessories) return;\n\n  const container = accessories.querySelector('.accessories__container');\n  const wrapper = container.querySelector('.accessories__wrapper');\n  const slides = container.querySelectorAll('.accessories__slide');\n\n  function initializeSlider() {\n    container.classList.add('swiper-container');\n    wrapper.classList.add('swiper-wrapper');\n    slides.forEach((slide) => {\n      slide.classList.add('swiper-slide');\n    });\n\n    const slider = new Swiper(container, {\n      direction: 'horizontal',\n      loop: true,\n      preloadImages: true,\n      loadPrevNext: true,\n      loadPrevNextAmount: 1,\n      slidesPerView: 5,\n      spaceBetween: 20,\n      slidesOffsetBefore: 0,\n      slidesOffsetAfter: 0,\n      breakpoints: {\n        1199: {\n          slidesPerView: 4,\n        },\n        1023: {\n          slidesPerView: 3,\n        },\n        767: {\n          slidesPerView: 2,\n        },\n        579: {\n          slidesPerView: 1,\n        },\n      },\n      navigation: {\n        nextEl: '.accessories__navigation-btn-next',\n        prevEl: '.accessories__navigation-btn-prev',\n      },\n    });\n  }\n\n  initializeSlider();\n};\n","/* global Parsley */\n/* global Cleave */\n/* global Swiper */\n\nexport default () => {\n  function initFormValidation() {\n    const form = document.querySelector('.js-pdcrf');\n    if (!form) return;\n\n    const phoneInput = form.querySelector('.js-pdcrf-phone input');\n    const button = form.querySelector('.js-pdcrf-submit');\n    let parsleyForm;\n    const parsleyOptions = {\n      uiEnabled: false,\n      focus: 'none',\n    };\n\n    const cleave = new Cleave(phoneInput, {\n      numericOnly: true,\n      prefix: '+7',\n      noImmediatePrefix: true,\n      delimiters: [' ( ', ' ) ', ' - ', ' - '],\n      blocks: [2, 3, 3, 2, 2],\n    });\n\n    // +7 ( 337 ) 777 - 77 - 77\n    phoneInput.dataset.parsleyMinlength = '24';\n\n    function submitButtonListener(evt) {\n      evt.preventDefault();\n      parsleyForm.validate();\n    }\n\n    function onSuccess() {\n      // console.log('success');\n    }\n\n    button.addEventListener('click', submitButtonListener);\n    parsleyForm = new Parsley.Factory(form, parsleyOptions);\n\n    parsleyForm.on('form:success', onSuccess);\n\n    parsleyForm.on('field:error', (evt) => {\n      evt.element.closest('.js-pdcrf-validate').classList.add('error');\n    });\n\n    parsleyForm.on('field:success', (evt) => {\n      evt.element.closest('.js-pdcrf-validate').classList.remove('error');\n    });\n  }\n\n  function initSlider() {\n    const productDescriptionVisual = document.querySelector('.product-description__visual');\n    if (!productDescriptionVisual) return;\n\n    const container = productDescriptionVisual.querySelector('.product-description__gallery-container');\n    const wrapper = container.querySelector('.product-description__gallery-wrapper');\n    const slides = container.querySelectorAll('.product-description__image-wrapper');\n\n    const thumbs = productDescriptionVisual.querySelector('.product-description__slider-gallery-thumbs');\n    const thumbsWrapper = thumbs.querySelector('.product-description__thumbs-wrapper');\n    const thumbsSlides = thumbs.querySelectorAll('.product-description__thumbs-slide');\n\n    function initializeSlider() {\n      container.classList.add('swiper-container');\n      thumbs.classList.add('swiper-container');\n\n      wrapper.classList.add('swiper-wrapper');\n      thumbsWrapper.classList.add('swiper-wrapper');\n\n      slides.forEach((slide) => {\n        slide.classList.add('swiper-slide');\n      });\n\n      thumbsSlides.forEach((slide) => {\n        slide.classList.add('swiper-slide');\n      });\n\n      const galleryThumbs = new Swiper(thumbs, {\n        loop: true,\n        spaceBetween: 10,\n        slidesPerView: 2,\n        watchSlidesVisibility: true,\n        watchSlidesProgress: true,\n        navigation: {\n          nextEl: '.product-description__navigation-btn-next',\n          prevEl: '.product-description__navigation-btn-prev',\n        },\n      });\n\n      const slider = new Swiper(container, {\n        loop: true,\n        preloadImages: true,\n        loadPrevNext: true,\n        loadPrevNextAmount: 1,\n        spaceBetween: 10,\n        breakpoints: {\n        },\n        thumbs: {\n          swiper: galleryThumbs,\n        },\n      });\n    }\n\n    initializeSlider();\n  }\n\n  initFormValidation();\n  initSlider();\n};\n","/* eslint-disable */\nimport './general/polyfills';\nimport './general/intersection-observer';\nimport utils from './general/utils';\nimport lazyload from './general/lazyload';\n/* eslint-enable */\n\n// region Blocks\n\nimport formInput from '../blocks/form-input/form-input';\nimport formTextarea from '../blocks/form-textarea/form-textarea';\nimport modal from '../blocks/modal/modal';\nimport gagerModal from '../blocks/gager-modal/gager-modal';\nimport callRequestModal from '../blocks/call-request-modal/call-request-modal';\nimport discountModal from '../blocks/discount-modal/discount-modal';\nimport header from '../blocks/header/header';\nimport mainSlider from '../blocks/main-slider/main-slider';\nimport pagination from '../blocks/page-pagination/page-pagination';\nimport profileSystem from '../blocks/profile-systems/profile-systems';\nimport wsrForm from '../blocks/window-selection-request-form/window-selection-request-form';\nimport grForm from '../blocks/gauge-request-form/gauge-request-form';\nimport reviewsSection from '../blocks/reviews-section/reviews-section';\nimport workReport from '../blocks/work-report/work-report';\nimport brands from '../blocks/brands/brands';\nimport examples from '../blocks/examples/examples';\nimport popularWindows from '../blocks/popular-windows/popular-windows';\nimport popularDoors from '../blocks/popular-doors/popular-doors';\nimport promoSection from '../blocks/promotions-section/promotions-section';\nimport map from '../blocks/map/map';\nimport certificates from '../blocks/certificates/certificates';\nimport calculatorForm from '../blocks/calculator-form/calculator-form';\nimport orderMeasurerForm from '../blocks/order-measurer-form/order-measurer-form';\nimport multiExamples from '../blocks/multi-examples/multi-examples';\nimport feedbackForm from '../blocks/feedback-form/feedback-form';\nimport accessories from '../blocks/accessories/accessories';\nimport productDescription from '../blocks/product-description/product-description';\n\n// endregion\n\nformInput();\nformTextarea();\nmodal();\ngagerModal();\ndiscountModal();\ncallRequestModal();\nheader();\nmainSlider();\npagination();\nprofileSystem();\nwsrForm();\ngrForm();\nreviewsSection();\nworkReport();\nbrands();\nexamples();\npopularWindows();\npopularDoors();\npromoSection();\nmap();\ncertificates();\ncalculatorForm();\norderMeasurerForm();\nmultiExamples();\nfeedbackForm();\naccessories();\nproductDescription();\n"],"names":["window","NodeList","prototype","forEach","Array","Element","matches","msMatchesSelector","webkitMatchesSelector","closest","s","el","parentElement","parentNode","nodeType","from","toStr","Object","toString","isCallable","fn","call","toInteger","value","number","Number","isNaN","isFinite","Math","floor","abs","maxSafeInteger","pow","toLength","len","min","max","arrayLike","C","items","TypeError","mapFn","arguments","length","undefined","T","A","k","kValue","placeholderPolyfill","classList","document","querySelectorAll","addEventListener","includes","defineProperty","valueToFind","fromIndex","o","n","sameValueZero","x","y","CustomEvent","event","params","bubbles","cancelable","detail","evt","createEvent","initCustomEvent","Event","find","predicate","thisArg","configurable","writable","IntersectionObserverEntry","get","intersectionRatio","entry","time","target","rootBounds","boundingClientRect","intersectionRect","getEmptyRect","isIntersecting","targetRect","targetArea","width","height","intersectionArea","toFixed","IntersectionObserver","callback","opt_options","options","Error","root","_checkForIntersections","throttle","bind","THROTTLE_TIMEOUT","_callback","_observationTargets","_queuedEntries","_rootMarginValues","_parseRootMargin","rootMargin","thresholds","_initThresholds","threshold","map","margin","unit","join","POLL_INTERVAL","USE_MUTATION_OBSERVER","observe","isTargetAlreadyObserved","some","item","element","_registerInstance","push","_monitorIntersections","unobserve","filter","_unmonitorIntersections","_unregisterInstance","disconnect","takeRecords","records","slice","opt_threshold","isArray","sort","t","i","a","opt_rootMargin","marginString","margins","split","parts","exec","parseFloat","_monitoringIntersections","_monitoringInterval","setInterval","addEvent","_domObserver","MutationObserver","attributes","childList","characterData","subtree","clearInterval","removeEvent","rootIsInDom","_rootIsInDom","rootRect","_getRootRect","getBoundingClientRect","rootContainsTarget","_rootContainsTarget","oldEntry","_computeTargetAndRootIntersection","newEntry","now","_hasCrossedThreshold","getComputedStyle","display","parent","getParentNode","atRoot","parentRect","parentComputedStyle","body","documentElement","overflow","computeRectIntersection","html","top","left","right","clientWidth","bottom","clientHeight","_expandRectByRootMargin","rect","newRect","oldRatio","newRatio","containsDeep","performance","timeout","timer","setTimeout","node","opt_useCapture","attachEvent","removeEventListener","detatchEvent","rect1","rect2","err","child","host","assignedSlot","inputs","input","remove","textareas","textarea","classEnabled","classScrolled","overlay","querySelector","isScroll","deltaWidth","scrollReInit","modal","initHeight","initWidth","add","style","openPopup","id","getElementById","close","onResize","clearTimeout","closeModal","onPopupKeydown","key","preventDefault","hasPassiveEvents","passiveTestOptions","passive","isIosDevice","navigator","platform","test","locks","documentListenerAdded","initialClientY","previousBodyOverflowSetting","previousBodyPaddingRight","allowTouchMove","lock","rawEvent","e","touches","setOverflowHidden","reserveScrollBarGap","scrollBarGap","innerWidth","paddingRight","restoreOverflowSetting","isTargetElementTotallyScrolled","targetElement","scrollHeight","scrollTop","handleScroll","clientY","targetTouches","stopPropagation","disableBodyScroll","console","error","ontouchstart","ontouchmove","clearAllBodyScrollLocks","enableBodyScroll","gagerPopup","gagerPopapOpenControls","form","phoneInput","nameInput","cleave","Cleave","numericOnly","prefix","noImmediatePrefix","delimiters","blocks","inputKeyCheck","en","RegExp","ru","setGagerPopapListeners","removeGagerPopapListeners","clearInputFields","closePopup","currentControl","callRequestPopup","callRequestPopupOpenControls","discountPopup","discountPopapOpenControls","discountPopupCloseLabel","setPopapListeners","removePopapListeners","WindowBreakpoints","DESKTOP","TABLET","MOBILE","header","headerOpenedClass","burgerToggle","dropdown","mainNavWrap","mainNav","calculatorButton","scheduleWrap","log","adjustDesktop","prepend","adjustTablet","contains","fragment","DocumentFragment","appendChild","adjustMobile","checkWindowWidth","matchMedia","adjustDropdownMaxHeight","maxHeight","lastWindowMode","adjustMenu","currentWindowMode","closeMenu","openMenu","resizeTimeout","resizeThrottler","CATALOG_MODE_CLASS","SUB_CATALOG_MODE_CLASS","ACTIVE_CATALOG_LINK_CLASS","navCatalog","navCatalogLinks","currentOpened","container","wrapper","slides","initializeSlider","slide","slider","Swiper","direction","loop","slidesPerView","spaceBetween","slidesOffsetBefore","slidesOffsetAfter","breakpoints","pagination","type","bulletElement","bulletClass","bulletActiveClass","clickable","paginationButtons","it","pbtn","profileSystem","wcSystemControl","wcSystemContent","wacSystemControl","wacSystemContent","activeClass","disabledClass","wcSwiperContainer","wcSwiperWrapper","wcSwiperSlides","wcSliderNav","wacSwiperContainer","wacSwiperWrapper","wacSwiperSlides","wacSliderNav","sliderInit","nav","navNextPrefix","navPrevPrefix","preloadImages","loadPrevNext","loadPrevNextAmount","watchSlidesVisibility","navigation","nextEl","prevEl","on","beforeResize","css","sliderDestroy","destroy","click","button","parsleyForm","parsleyOptions","uiEnabled","focus","dataset","parsleyMinlength","submitButtonListener","validate","onSuccess","Parsley","Factory","initializeReviews","swiperReviews","centeredSlides","workReportSwiper","examples","thumbs","thumbsWrapper","thumbsSlides","galleryThumbs","watchSlidesProgress","galleryTop","swiper","contents","controls","activeControl","contentReset","set","pwc","sectionInit","btn","pdc","promoSection","promoControl","mapContainer","addressPoints","tiles","L","tileLayer","maxZoom","attribution","latlng","latLng","center","zoom","layers","markers","layerGroup","greenIcon","Icon","iconUrl","shadowUrl","iconSize","iconAnchor","popupAnchor","shadowSize","point","title","description","marker","LatLng","icon","bindPopup","addLayer","certificates","sizeInput","num","current","mainBlock","activSet","mecControl","accessories","initFormValidation","initSlider","productDescriptionVisual","formInput","formTextarea","gagerModal","discountModal","callRequestModal","mainSlider","wsrForm","grForm","reviewsSection","workReport","brands","popularWindows","popularDoors","calculatorForm","orderMeasurerForm","multiExamples","feedbackForm","productDescription"],"mappings":"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"}